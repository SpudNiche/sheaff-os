# ECE 331 - Project 1: Morse Code Kernel Module
# Author: Nicholas LaJoie
# Description: 
The kmorse repository contains a kernel driver module that interacts with the ECE 331 S16 RPi
expansion board provided by the course instructor, Andy Sheaff. A user space program, 'user'
passes a single command line argument, a message to be encoded in morse code' to the kernel 
module by writing to the 'morse' special device file. The kernel driver handles the encoding of 
the message in the kernel space, and does so by toggling an enable line and BPSK line in the 
appropriate sequence as provided by the 'encoding.c' file (which is generated by a perl script, 
'morse_encode.pl'). 

A seperate user space program, 'many,' spawns multiple processes that attempt to write to the 
morse device concurrently, and tests that the locking feature of the module is working 
correctly. No data corruption should occur when multiple processes attempt to write to the 
device.

# Additional Testing
A simple 'one-liner' on the command line, stored under the alias "maxmorse", iterates through 
the dictionary built into linux and encodes each word. (it also prints the current word being 
encoded). The command is as follows: 

for word in $(cat /etc/dictionaries-common/words); do ./user `echo $word`; echo "Current word: $word"; done;

# Update on April 18, 2017:
I am pleased to say that upon updating the firmware to "ece331-B.hex", my module, complete with 
locking, works! It can iterate through the dictionary (not COMPLETELY tested, another update 
will be posted when it has been tested more thoroughly). 

# Update on April 19, 2017
Cleaned up repository, created test folder, and noticed a strange error where running the
user space programs doesn't always produce an output on the serial interface for the board.
Not sure if it has to do with the firmware? 

# Update on April 20, 2017
Managed to let the code run over night and test 53092 words of the dictionary! Very minimal
errors (the error mentioned previous seemed to have been resolved once I was working on my pi
directly...not over SSH). That said, I'd say the code has been thoroughly tested. Project 1 is
ready to be submitted! 
